[2023-06-12 15:44:29,737: DEBUG/MainProcess] | Worker: Preparing bootsteps.
[2023-06-12 15:44:29,739: DEBUG/MainProcess] | Worker: Building graph...
[2023-06-12 15:44:29,739: DEBUG/MainProcess] | Worker: New boot order: {Beat, Timer, Hub, Pool, Autoscaler, StateDB, Consumer}
[2023-06-12 15:44:29,747: DEBUG/MainProcess] | Consumer: Preparing bootsteps.
[2023-06-12 15:44:29,747: DEBUG/MainProcess] | Consumer: Building graph...
[2023-06-12 15:44:29,803: DEBUG/MainProcess] | Consumer: New boot order: {Connection, Events, Heart, Mingle, Gossip, Agent, Tasks, Control, event loop}
[2023-06-12 15:44:29,857: WARNING/MainProcess] /usr/local/lib/python3.8/dist-packages/celery/app/utils.py:204: CDeprecationWarning: 
    The 'CELERY_RESULT_BACKEND' setting is deprecated and scheduled for removal in
    version 6.0.0. Use the result_backend instead

  deprecated.warn(description=f'The {setting!r} setting',

[2023-06-12 15:44:29,857: WARNING/MainProcess] Please run `celery upgrade settings path/to/settings.py` to avoid these warnings and to allow a smoother upgrade to Celery 6.0.
[2023-06-12 15:44:29,857: DEBUG/MainProcess] | Worker: Starting Hub
[2023-06-12 15:44:29,857: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:29,857: DEBUG/MainProcess] | Worker: Starting Pool
[2023-06-12 15:44:32,647: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:32,648: DEBUG/MainProcess] | Worker: Starting Consumer
[2023-06-12 15:44:32,648: DEBUG/MainProcess] | Consumer: Starting Connection
[2023-06-12 15:44:32,658: INFO/MainProcess] Connected to redis://192.168.2.185:6379/0
[2023-06-12 15:44:32,658: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:32,658: DEBUG/MainProcess] | Consumer: Starting Events
[2023-06-12 15:44:32,662: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:32,662: DEBUG/MainProcess] | Consumer: Starting Heart
[2023-06-12 15:44:32,665: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:32,665: DEBUG/MainProcess] | Consumer: Starting Mingle
[2023-06-12 15:44:32,665: INFO/MainProcess] mingle: searching for neighbors
[2023-06-12 15:44:33,678: INFO/MainProcess] mingle: all alone
[2023-06-12 15:44:33,678: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:33,678: DEBUG/MainProcess] | Consumer: Starting Gossip
[2023-06-12 15:44:33,683: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:33,683: DEBUG/MainProcess] | Consumer: Starting Tasks
[2023-06-12 15:44:33,691: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:33,691: DEBUG/MainProcess] | Consumer: Starting Control
[2023-06-12 15:44:33,695: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 15:44:33,695: DEBUG/MainProcess] | Consumer: Starting event loop
[2023-06-12 15:44:33,695: DEBUG/MainProcess] | Worker: Hub.register Pool...
[2023-06-12 15:44:33,699: WARNING/MainProcess] /usr/local/lib/python3.8/dist-packages/celery/fixups/django.py:203: UserWarning: Using settings.DEBUG leads to a memory
            leak, never use this setting in production environments!
  warnings.warn('''Using settings.DEBUG leads to a memory

[2023-06-12 15:44:33,699: INFO/MainProcess] celery@cygene ready.
[2023-06-12 15:44:33,700: DEBUG/MainProcess] basic.qos: prefetch_count->288
[2023-06-12 16:24:25,098: INFO/MainProcess] Task tools.tasks.execute_script_and_package[69727ec8-176e-46a4-893c-ad2e47ddfbf5] received
[2023-06-12 16:24:25,104: DEBUG/MainProcess] TaskPool: Apply <function fast_trace_task at 0x7f3e33f6db80> (args:('tools.tasks.execute_script_and_package', '69727ec8-176e-46a4-893c-ad2e47ddfbf5', {'lang': 'py', 'task': 'tools.tasks.execute_script_and_package', 'id': '69727ec8-176e-46a4-893c-ad2e47ddfbf5', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': '69727ec8-176e-46a4-893c-ad2e47ddfbf5', 'parent_id': None, 'argsrepr': "('192.168.12.58', '0961c9ae-d644-4a54-a5bb-656da5f2a346')", 'kwargsrepr': '{}', 'origin': 'gen833109@cygene', 'ignore_result': False, 'properties': {'correlation_id': '69727ec8-176e-46a4-893c-ad2e47ddfbf5', 'reply_to': '98f3acbf-a0c3-3a2a-8037-e55047c39db8', 'delivery_mode': 2, 'delivery_info': {'exchange': '', 'routing_key': 'celery'}, 'priority': 0, 'body_encoding': 'base64', 'delivery_tag': '7d2f3a1d-0b27-4511-a88b-a349fb942268'}, 'reply_to': '98f3acbf-a0c3-3a2a-8037-e55047c39db8', 'correlation_id': '69727ec8-176e-46a4-893c-ad2e47ddfbf5', 'hostname': 'celery@cygene', 'delivery_info': {'exchange': '',... kwargs:{})
[2023-06-12 16:24:25,117: ERROR/ForkPoolWorker-63] Task tools.tasks.execute_script_and_package[69727ec8-176e-46a4-893c-ad2e47ddfbf5] raised unexpected: TypeError("execute_script_and_package() missing 1 required positional argument: 'user_ip'")
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/celery/app/trace.py", line 451, in trace_task
    R = retval = fun(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/celery/app/trace.py", line 734, in __protected_call__
    return self.run(*args, **kwargs)
TypeError: execute_script_and_package() missing 1 required positional argument: 'user_ip'
[2023-06-12 16:25:55,608: DEBUG/MainProcess] | Worker: Closing Hub...
[2023-06-12 16:25:55,608: DEBUG/MainProcess] | Worker: Closing Pool...
[2023-06-12 16:25:55,610: DEBUG/MainProcess] | Worker: Closing Consumer...
[2023-06-12 16:25:55,610: DEBUG/MainProcess] | Worker: Stopping Consumer...
[2023-06-12 16:25:55,610: DEBUG/MainProcess] | Consumer: Closing Connection...
[2023-06-12 16:25:55,610: DEBUG/MainProcess] | Consumer: Closing Events...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing Heart...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing Mingle...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing Gossip...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing Tasks...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing Control...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Closing event loop...
[2023-06-12 16:25:55,611: DEBUG/MainProcess] | Consumer: Stopping event loop...
[2023-06-12 16:25:55,612: DEBUG/MainProcess] | Consumer: Stopping Control...
[2023-06-12 16:25:55,616: DEBUG/MainProcess] | Consumer: Stopping Tasks...
[2023-06-12 16:25:55,616: DEBUG/MainProcess] Canceling task consumer...
[2023-06-12 16:25:55,617: DEBUG/MainProcess] | Consumer: Stopping Gossip...
[2023-06-12 16:25:55,618: DEBUG/MainProcess] | Consumer: Stopping Mingle...
[2023-06-12 16:25:55,618: DEBUG/MainProcess] | Consumer: Stopping Heart...
[2023-06-12 16:25:55,619: DEBUG/MainProcess] | Consumer: Stopping Events...
[2023-06-12 16:25:55,619: DEBUG/MainProcess] | Consumer: Stopping Connection...
[2023-06-12 16:25:55,620: DEBUG/MainProcess] | Worker: Stopping Pool...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Worker: Stopping Hub...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Consumer: Shutdown Control...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Consumer: Shutdown Tasks...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] Canceling task consumer...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] Closing consumer channel...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Consumer: Shutdown Gossip...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Consumer: Shutdown Heart...
[2023-06-12 16:25:56,736: DEBUG/MainProcess] | Consumer: Shutdown Events...
[2023-06-12 16:25:56,737: DEBUG/MainProcess] | Consumer: Shutdown Connection...
[2023-06-12 16:25:56,737: DEBUG/MainProcess] removing tasks from inqueue until task handler finished
[2023-06-12 16:26:09,889: DEBUG/MainProcess] | Worker: Preparing bootsteps.
[2023-06-12 16:26:09,890: DEBUG/MainProcess] | Worker: Building graph...
[2023-06-12 16:26:09,890: DEBUG/MainProcess] | Worker: New boot order: {Beat, Timer, Hub, Pool, Autoscaler, StateDB, Consumer}
[2023-06-12 16:26:09,893: DEBUG/MainProcess] | Consumer: Preparing bootsteps.
[2023-06-12 16:26:09,893: DEBUG/MainProcess] | Consumer: Building graph...
[2023-06-12 16:26:09,937: DEBUG/MainProcess] | Consumer: New boot order: {Connection, Events, Mingle, Gossip, Agent, Tasks, Control, Heart, event loop}
[2023-06-12 16:26:09,990: WARNING/MainProcess] /usr/local/lib/python3.8/dist-packages/celery/app/utils.py:204: CDeprecationWarning: 
    The 'CELERY_RESULT_BACKEND' setting is deprecated and scheduled for removal in
    version 6.0.0. Use the result_backend instead

  deprecated.warn(description=f'The {setting!r} setting',

[2023-06-12 16:26:09,990: WARNING/MainProcess] Please run `celery upgrade settings path/to/settings.py` to avoid these warnings and to allow a smoother upgrade to Celery 6.0.
[2023-06-12 16:26:09,990: DEBUG/MainProcess] | Worker: Starting Hub
[2023-06-12 16:26:09,991: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:09,991: DEBUG/MainProcess] | Worker: Starting Pool
[2023-06-12 16:26:12,897: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:12,898: DEBUG/MainProcess] | Worker: Starting Consumer
[2023-06-12 16:26:12,898: DEBUG/MainProcess] | Consumer: Starting Connection
[2023-06-12 16:26:12,908: INFO/MainProcess] Connected to redis://192.168.2.185:6379/0
[2023-06-12 16:26:12,908: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:12,908: DEBUG/MainProcess] | Consumer: Starting Events
[2023-06-12 16:26:12,912: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:12,912: DEBUG/MainProcess] | Consumer: Starting Mingle
[2023-06-12 16:26:12,912: INFO/MainProcess] mingle: searching for neighbors
[2023-06-12 16:26:13,926: INFO/MainProcess] mingle: all alone
[2023-06-12 16:26:13,926: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:13,926: DEBUG/MainProcess] | Consumer: Starting Gossip
[2023-06-12 16:26:13,931: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:13,931: DEBUG/MainProcess] | Consumer: Starting Tasks
[2023-06-12 16:26:13,938: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:13,938: DEBUG/MainProcess] | Consumer: Starting Control
[2023-06-12 16:26:13,942: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:13,942: DEBUG/MainProcess] | Consumer: Starting Heart
[2023-06-12 16:26:13,943: DEBUG/MainProcess] ^-- substep ok
[2023-06-12 16:26:13,944: DEBUG/MainProcess] | Consumer: Starting event loop
[2023-06-12 16:26:13,944: DEBUG/MainProcess] | Worker: Hub.register Pool...
[2023-06-12 16:26:13,947: WARNING/MainProcess] /usr/local/lib/python3.8/dist-packages/celery/fixups/django.py:203: UserWarning: Using settings.DEBUG leads to a memory
            leak, never use this setting in production environments!
  warnings.warn('''Using settings.DEBUG leads to a memory

[2023-06-12 16:26:13,947: INFO/MainProcess] celery@cygene ready.
[2023-06-12 16:26:13,947: DEBUG/MainProcess] basic.qos: prefetch_count->288
[2023-06-12 16:26:57,046: INFO/MainProcess] Task tools.tasks.execute_script_and_package[fe21fbd2-5263-4bf2-873b-75bfe92a78dd] received
[2023-06-12 16:26:57,046: DEBUG/MainProcess] TaskPool: Apply <function fast_trace_task at 0x7fa1955cfb80> (args:('tools.tasks.execute_script_and_package', 'fe21fbd2-5263-4bf2-873b-75bfe92a78dd', {'lang': 'py', 'task': 'tools.tasks.execute_script_and_package', 'id': 'fe21fbd2-5263-4bf2-873b-75bfe92a78dd', 'shadow': None, 'eta': None, 'expires': None, 'group': None, 'group_index': None, 'retries': 0, 'timelimit': [None, None], 'root_id': 'fe21fbd2-5263-4bf2-873b-75bfe92a78dd', 'parent_id': None, 'argsrepr': "('192.168.12.58', 'd2c343fe-c3c2-46f6-a173-afb4692e9571')", 'kwargsrepr': '{}', 'origin': 'gen833109@cygene', 'ignore_result': False, 'properties': {'correlation_id': 'fe21fbd2-5263-4bf2-873b-75bfe92a78dd', 'reply_to': '98f3acbf-a0c3-3a2a-8037-e55047c39db8', 'delivery_mode': 2, 'delivery_info': {'exchange': '', 'routing_key': 'celery'}, 'priority': 0, 'body_encoding': 'base64', 'delivery_tag': '4a738699-b115-4f38-a92c-3c4cb7f6892c'}, 'reply_to': '98f3acbf-a0c3-3a2a-8037-e55047c39db8', 'correlation_id': 'fe21fbd2-5263-4bf2-873b-75bfe92a78dd', 'hostname': 'celery@cygene', 'delivery_info': {'exchange': '',... kwargs:{})
[2023-06-12 16:26:57,072: ERROR/ForkPoolWorker-63] Task tools.tasks.execute_script_and_package[fe21fbd2-5263-4bf2-873b-75bfe92a78dd] raised unexpected: DoesNotExist('Result matching query does not exist.')
Traceback (most recent call last):
  File "/usr/local/lib/python3.8/dist-packages/celery/app/trace.py", line 451, in trace_task
    R = retval = fun(*args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/celery/app/trace.py", line 734, in __protected_call__
    return self.run(*args, **kwargs)
  File "/home/dushiyi/my_web/rootpath_PicWall/tools/tasks.py", line 14, in execute_script_and_package
    update_task_status('in_progress', unique_id, user_ip)
  File "/usr/local/lib/python3.8/dist-packages/celery/local.py", line 188, in __call__
    return self._get_current_object()(*a, **kw)
  File "/usr/local/lib/python3.8/dist-packages/celery/app/trace.py", line 735, in __protected_call__
    return orig(self, *args, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/celery/app/task.py", line 392, in __call__
    return self.run(*args, **kwargs)
  File "/home/dushiyi/my_web/rootpath_PicWall/tools/tasks.py", line 46, in update_task_status
    result = Result.objects.get(unique_id=unique_id, user_ip=user_ip)
  File "/home/dushiyi/.local/lib/python3.8/site-packages/django/db/models/manager.py", line 85, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/dushiyi/.local/lib/python3.8/site-packages/django/db/models/query.py", line 496, in get
    raise self.model.DoesNotExist(
tools.models.Result.DoesNotExist: Result matching query does not exist.
[2023-06-12 16:31:17,073: DEBUG/MainProcess] | Worker: Closing Hub...
[2023-06-12 16:31:17,076: DEBUG/MainProcess] | Worker: Closing Pool...
[2023-06-12 16:31:17,078: DEBUG/MainProcess] | Worker: Closing Consumer...
[2023-06-12 16:31:17,078: DEBUG/MainProcess] | Worker: Stopping Consumer...
[2023-06-12 16:31:17,079: DEBUG/MainProcess] | Consumer: Closing Connection...
[2023-06-12 16:31:17,079: DEBUG/MainProcess] | Consumer: Closing Events...
[2023-06-12 16:31:17,079: DEBUG/MainProcess] | Consumer: Closing Mingle...
[2023-06-12 16:31:17,079: DEBUG/MainProcess] | Consumer: Closing Gossip...
[2023-06-12 16:31:17,079: DEBUG/MainProcess] | Consumer: Closing Tasks...
[2023-06-12 16:31:17,080: DEBUG/MainProcess] | Consumer: Closing Control...
[2023-06-12 16:31:17,080: DEBUG/MainProcess] | Consumer: Closing Heart...
[2023-06-12 16:31:17,080: DEBUG/MainProcess] | Consumer: Closing event loop...
[2023-06-12 16:31:17,080: DEBUG/MainProcess] | Consumer: Stopping event loop...
[2023-06-12 16:31:17,080: DEBUG/MainProcess] | Consumer: Stopping Heart...
[2023-06-12 16:31:17,081: DEBUG/MainProcess] | Consumer: Stopping Control...
[2023-06-12 16:31:17,085: DEBUG/MainProcess] | Consumer: Stopping Tasks...
[2023-06-12 16:31:17,085: DEBUG/MainProcess] Canceling task consumer...
[2023-06-12 16:31:17,085: DEBUG/MainProcess] | Consumer: Stopping Gossip...
[2023-06-12 16:31:17,087: DEBUG/MainProcess] | Consumer: Stopping Mingle...
[2023-06-12 16:31:17,087: DEBUG/MainProcess] | Consumer: Stopping Events...
[2023-06-12 16:31:17,087: DEBUG/MainProcess] | Consumer: Stopping Connection...
[2023-06-12 16:31:17,087: DEBUG/MainProcess] | Worker: Stopping Pool...
[2023-06-12 16:31:18,205: DEBUG/MainProcess] | Worker: Stopping Hub...
[2023-06-12 16:31:18,205: DEBUG/MainProcess] | Consumer: Shutdown Heart...
[2023-06-12 16:31:18,205: DEBUG/MainProcess] | Consumer: Shutdown Control...
[2023-06-12 16:31:18,205: DEBUG/MainProcess] | Consumer: Shutdown Tasks...
[2023-06-12 16:31:18,205: DEBUG/MainProcess] Canceling task consumer...
[2023-06-12 16:31:18,206: DEBUG/MainProcess] Closing consumer channel...
[2023-06-12 16:31:18,206: DEBUG/MainProcess] | Consumer: Shutdown Gossip...
[2023-06-12 16:31:18,206: DEBUG/MainProcess] | Consumer: Shutdown Events...
[2023-06-12 16:31:18,206: DEBUG/MainProcess] | Consumer: Shutdown Connection...
[2023-06-12 16:31:18,208: DEBUG/MainProcess] removing tasks from inqueue until task handler finished
